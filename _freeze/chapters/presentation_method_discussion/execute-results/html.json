{
  "hash": "de12583d65ce887dece45b14cabc6cde",
  "result": {
    "markdown": "# Presentation and visualisation {#presentation}\n\n#\n\n\n\n::: {.alert .alert-secondary}\nNote: this has been moved from a discussion of the EA survey in the ea-data repo, and is being expanded here\\* NOTE: this is being moved to https://rethinkpriorities.github.io/how-to-visualize/ ... more still needs to be moved\n:::\n\n## Tables\n\n\nData tables, so users can sort view them\n\n::: {.cell}\n\n```{.r .cell-code}\n(\nmtcars_data_table <-  mtcars %>%\n mutate(across(is.numeric, round, digits = 2)) %>%\n  datatable(class = 'cell-border stripe')\n)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in datatable(., class = \"cell-border stripe\"): could not find function \"datatable\"\n```\n:::\n:::\n\n\n## Aside: EA Forum organisation, collophon, formatting\n\n\n## Visualizations\n\nMOVED to [how-to-visualize](https://rethinkpriorities.github.io/how-to-visualize/)\n\nSee also Gdoc: [visualisation discussions](https://docs.google.com/document/d/1U_k_sIPDQmkKgatgXStDqrwi-g3vPGgftYbN8AEDPhs/edit#)\n\n### Ideal coding practice for visualisations {.unnumbered}\n\nMOVED much content to [how-to-visualize](https://rethinkpriorities.github.io/how-to-visualize/)\n\nWill move the below over as well\n\n### Case: Relative shares of a total; e.g. 'shares of EA population by referrer', or 'donation totals by country' {.unnumbered}\n\n**Treemaps**\n\n::: {.alert .alert-secondary}\nNOTE: The below will not run without data, but we cannot make data 'public' here ... we can swap this for built in R or simulated data in this discussion\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngeom_treemap_opts <- list(geom_treemap(alpha = 0.7),\n  geom_treemap_text(fontface = \"italic\", colour = \"white\", place = \"centre\",\n                    grow = TRUE, min.size = 1 ),\n  theme(legend.position = \"none\",\n        plot.title = element_text(hjust = 0.5))\n  )\n\n(\n  don_share_by_size <- eas_20 %>% select(donation_2019_c, donation_2019_c_split) %>%\n  group_by(donation_2019_c_split) %>%\n  summarise(total_don = sum(donation_2019_c, na.rm=TRUE)) %>%\n  mutate(don_share = round(total_don/sum(total_don)*100)) %>%\n  filter(!is.na(donation_2019_c_split)) %>%\n  ggplot(aes(area = total_don, fill= donation_2019_c_split,\n             # Include percentage of total donation\n             label = paste(donation_2019_c_split, paste0(don_share, \"%\"), sep = \"\\n\"))) +\n    geom_treemap_opts +\n  ggtitle(\"Share of total 2019 reported donation amount, by donation size\")\n)\n```\n\n::: {.cell-output-display}\n![](presentation_method_discussion_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\nA good alternative to the treemap ... conveying both absolute amounts and rates in the same graph?\n\n### Case: Likert scale (individual items) and relative responses to these {.unnumbered}\n\nThe combination of stacked bar charts and overlayed error/CI bars for some 'middle split' seems informative:\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_url(\"https://rethinkpriorities.github.io/ea_data_public/eas-engagement.html#summary-charts\")\n```\n\n<iframe src=\"https://rethinkpriorities.github.io/ea_data_public/eas-engagement.html#summary-charts\" width=\"672\" height=\"400px\" data-external=\"1\"></iframe>\n:::\n\nAbove: from [EAS engagement post, bookdown supplement](https://rethinkpriorities.github.io/ea_data_public/eas-engagement.html#summary-charts)\n\n### Issue: Dealing with scales and large differences in magnitudes {.unnumbered}\n\nIf axes are cut and don't go to zero, mention this prominently in the plot.\n\nBut what if we have a few values that are way above others, and 'mess up the scale'?\n\nSometimes a logarithmic scale is helpful, but that can also lead to confusion. Otherwise...\n\n-   \"any CI's or other things that go outside of the limits should just be extended to the edge and not dropped)\"\n\n    -   doable with scale_y\\_continuous( oob = scales::squish) +\n\n        scale_x\\_continuous( oob = scales::squish)`` or  `coord_cartesian` ``\n\n-   or otherwise allow a clear 'break' in the axis?\n\n-   Not possible to break the axis ggplot <https://stackoverflow.com/questions/7194688/using-ggplot2-can-i-insert-a-break-in-the-axis>\n\n-   ... what about 'extending to the edge'?\n\nRemove outliers as a last resort; prominently mention this where doing so.\n\n### Case: Means of continuous variables: differences across groups {.unnumbered}\n\nSome (imperfect) examples from donation post:\n\n![](https://rethinkpriorities.github.io/ea_data_public/ea_survey_work_files/figure-html/gap-actual-planned-2019-1.png)\n\n![](https://rethinkpriorities.github.io/ea_data_public/ea_survey_work_files/figure-html/planned_actual_gwwc-1.png)\n\n-   Vertical lines for 'medians and means' help put this in context\n\n### Case: Categorical outcomes by continuous outcomes (and vice/versa) {.unnumbered}\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_url(\"https://rethinkpriorities.github.io/ea_data_public/eas-engagement.html#engagement-by-age-and-tenure\")\n```\n\n<iframe src=\"https://rethinkpriorities.github.io/ea_data_public/eas-engagement.html#engagement-by-age-and-tenure\" width=\"672\" height=\"400px\" data-external=\"1\"></iframe>\n:::\n\nAbove, from the [EAS engagement post bookdown](https://rethinkpriorities.github.io/ea_data_public/eas-engagement.html#engagement-by-age-and-tenure), we combine a `geom_point` with a `geom_smooth`.[^presentation_method_discussion-1]\n\n[^presentation_method_discussion-1]: DR: I'm slightly concerned about misinterpretations of the smoothed thing though ... those shaded regions maybe should not be interpreted as CI?\n\nHere, I think the use of `%>% ggplotly` yields only one helpful feature (but its very helpful): hovering over a dot or point on the line brings up an exact value label. I think this helps a reader understand 'what the heck this is'.\n\n### Case: Visualizing (regression) model coefficients and confidence intervals {.unnumbered}\n\nForest plots as seen [in donation post here](https://rethinkpriorities.github.io/ea_data_public/eas_donations.html#predictive-models)\n\n![](https://rethinkpriorities.github.io/ea_data_public/ea_survey_work_files/figure-html/fp_demog_coefs_qp-1.png)\n\nOur `group_fp_do` function makes this easy to do.\n\nSee how we group the coefficients into plots by 'theme'\n\n\\\n\nIn some contexts, lines for 'base rates' can be helpful\n\n![](https://daaronr.github.io/dualprocess/impact_of_impact_multi_experiment_files/figure-html/Bayesian_Forest_Plots-2.png) ... context, scroll up from [here](https://daaronr.github.io/dualprocess/donor-voice-questions-and-tests.html#q-does-including-impact-information-affect-the-amount-raised-1)",
    "supporting": [
      "presentation_method_discussion_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": [],
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}