<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.113">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Rethink Priorities: Methods - 7&nbsp; Design: quantitative issues</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: 1;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/power_analysis_framework_2.html" rel="next">
<link href="../chapters/qualitative-design-issues_plus.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Design: quantitative issues</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Rethink Priorities: Methods</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/rethinkpriorities/methodology-statistics-design" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Intro., protocols, style</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction/overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/coding_data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Coding, data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/presentation_method_discussion.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Presentation and visualisation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Surveys/trial design</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/survey_designs_methods.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Survey design, item dev.</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/experiments_trials_design.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Experiments: Qualitative design, implementation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/qualitative-design-issues_plus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Further practical design/implementation issues (surveys/experiments)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/exp_design_quant.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Design: quantitative issues</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/power_analysis_framework_2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Power analysis discussion and workflow (Elsey)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Statistics and modeling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/basic_stats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Frameworks, ‘models’, inference, tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/factor_analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Factor analysis: EFA/CFA, PCA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/mixed_multilevel_random.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Random effects, mixed models, multilevel modeling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/ml_modeling.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Prediction, ML models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/time_series_application.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Time Series – application</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/classification_model_notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Classification models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/causal_inf.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Causal Inference</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Other, worked examples</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/fermi.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Monte-Carlo ‘Fermi Estimation’ Approaches</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/other_sections.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Other suggested sections</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../from_ea_market_testing/binary_trial_computations_redacted_ed.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Inference/equivalence testing w. binomial outcomes</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#treatment-assignment-blocking-randomization-etc" id="toc-treatment-assignment-blocking-randomization-etc" class="nav-link active" data-scroll-target="#treatment-assignment-blocking-randomization-etc"><span class="toc-section-number">7.1</span>  ‘Treatment’ assignment (blocking, randomization, etc)</a>
  <ul class="collapse">
  <li><a href="#adaptive-sequential-and-dynamic-designs" id="toc-adaptive-sequential-and-dynamic-designs" class="nav-link" data-scroll-target="#adaptive-sequential-and-dynamic-designs"><span class="toc-section-number">7.1.1</span>  Adaptive, sequential and dynamic designs</a></li>
  </ul></li>
  <li><a href="#planning-diagnosing-and-adjusting-a-design" id="toc-planning-diagnosing-and-adjusting-a-design" class="nav-link" data-scroll-target="#planning-diagnosing-and-adjusting-a-design"><span class="toc-section-number">7.2</span>  Planning, diagnosing and adjusting a design</a>
  <ul class="collapse">
  <li><a href="#specifying-models-hypotheses-and-statistical-testing-and-inference-approaches" id="toc-specifying-models-hypotheses-and-statistical-testing-and-inference-approaches" class="nav-link" data-scroll-target="#specifying-models-hypotheses-and-statistical-testing-and-inference-approaches"><span class="toc-section-number">7.2.1</span>  Specifying models, hypotheses, and statistical testing and inference approaches</a></li>
  </ul></li>
  <li><a href="#gains-from-small-sample-sizes-in-a-bayesian-context" id="toc-gains-from-small-sample-sizes-in-a-bayesian-context" class="nav-link" data-scroll-target="#gains-from-small-sample-sizes-in-a-bayesian-context"><span class="toc-section-number">7.3</span>  Gains from small sample sizes in a Bayesian context</a></li>
  <li><a href="#power-analyses-and-other-diagnosands" id="toc-power-analyses-and-other-diagnosands" class="nav-link" data-scroll-target="#power-analyses-and-other-diagnosands"><span class="toc-section-number">7.4</span>  Power analyses (and other ‘diagnosands’)</a>
  <ul class="collapse">
  <li><a href="#key-resources-and-explainers" id="toc-key-resources-and-explainers" class="nav-link" data-scroll-target="#key-resources-and-explainers"><span class="toc-section-number">7.4.1</span>  Key resources and explainers</a></li>
  <li><a href="#see-power-analysis-discussion-and-workflow" id="toc-see-power-analysis-discussion-and-workflow" class="nav-link" data-scroll-target="#see-power-analysis-discussion-and-workflow"><span class="toc-section-number">7.4.2</span>  See Power analysis discussion and workflow</a></li>
  </ul></li>
  <li><a href="#value-of-information-and-optimal-trial-design-estimation-proposal" id="toc-value-of-information-and-optimal-trial-design-estimation-proposal" class="nav-link" data-scroll-target="#value-of-information-and-optimal-trial-design-estimation-proposal"><span class="toc-section-number">7.5</span>  Value of information and optimal trial design: estimation proposal</a>
  <ul class="collapse">
  <li><a href="#nascent-discussion-value-of-information-and-optimal-design-and-inference" id="toc-nascent-discussion-value-of-information-and-optimal-design-and-inference" class="nav-link" data-scroll-target="#nascent-discussion-value-of-information-and-optimal-design-and-inference"><span class="toc-section-number">7.5.1</span>  Nascent discussion: Value of Information and Optimal Design and inference</a></li>
  <li><a href="#building-a-tangible-approach-to-voi" id="toc-building-a-tangible-approach-to-voi" class="nav-link" data-scroll-target="#building-a-tangible-approach-to-voi"><span class="toc-section-number">7.5.2</span>  Building a tangible approach to VOI</a></li>
  <li><a href="#a-specific-proposal-for-comparing-the-voi-of-designs" id="toc-a-specific-proposal-for-comparing-the-voi-of-designs" class="nav-link" data-scroll-target="#a-specific-proposal-for-comparing-the-voi-of-designs"><span class="toc-section-number">7.5.3</span>  A specific proposal for comparing the VOI of designs</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/rethinkpriorities/methodology-statistics-design/edit/main/chapters/exp_design_quant.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/rethinkpriorities/methodology-statistics-design/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="expt-quant" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Design: quantitative issues</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Some quantitative issues
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>‘Treatment’ assignment (blocking, randomization, etc)</li>
<li>Adaptive, sequential and dynamic designs</li>
<li>Planning, diagnosing and adjusting a design</li>
<li>Power analyses (and other ‘diagnosands’)</li>
</ul>
</div>
</div>
</div>
<div class="alert alert-secondary">
<p>Note that much ‘experiment and trial’ relevant content is covered in the <a href="#surveys">surveys</a> section. We will put in placeholders and cross-link.</p>
</div>
<section id="treatment-assignment-blocking-randomization-etc" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="treatment-assignment-blocking-randomization-etc"><span class="header-section-number">7.1</span> ‘Treatment’ assignment (blocking, randomization, etc)</h2>
<section id="adaptive-sequential-and-dynamic-designs" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="adaptive-sequential-and-dynamic-designs"><span class="header-section-number">7.1.1</span> Adaptive, sequential and dynamic designs</h3>
<ul>
<li><p><a href="https://daaronr.github.io/metrics_discussion/quant-design-power.html#quant_design_power">Reinstein notes and links here</a></p></li>
<li><p>Elsey: http://www.sequentialtesting.com/</p></li>
</ul>
</section>
</section>
<section id="planning-diagnosing-and-adjusting-a-design" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="planning-diagnosing-and-adjusting-a-design"><span class="header-section-number">7.2</span> Planning, diagnosing and adjusting a design</h2>
<section id="specifying-models-hypotheses-and-statistical-testing-and-inference-approaches" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="specifying-models-hypotheses-and-statistical-testing-and-inference-approaches"><span class="header-section-number">7.2.1</span> Specifying models, hypotheses, and statistical testing and inference approaches</h3>
<p>(Just a brief here, this will be covered in more detail in the sections on statistical inference, testing, and analysis</p>
</section>
</section>
<section id="gains-from-small-sample-sizes-in-a-bayesian-context" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="gains-from-small-sample-sizes-in-a-bayesian-context"><span class="header-section-number">7.3</span> Gains from small sample sizes in a Bayesian context</h2>
<p><a href="https://docs.google.com/document/d/1eTgYMYPuARg8mtFcEg9dZUobObl0YlpZhPZJh34M8UA/edit">Jamie’s notes here</a></p>
</section>
<section id="power-analyses-and-other-diagnosands" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="power-analyses-and-other-diagnosands"><span class="header-section-number">7.4</span> Power analyses (and other ‘diagnosands’)</h2>
<p><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<section id="key-resources-and-explainers" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="key-resources-and-explainers"><span class="header-section-number">7.4.1</span> Key resources and explainers</h3>
<p>(‘Curate link’ tools we found useful)</p>
<p><a href="https://daaronr.github.io/metrics_discussion/power.html">Reinstein notes and code</a></p>
</section>
<section id="see-power-analysis-discussion-and-workflow" class="level3" data-number="7.4.2">
<h3 data-number="7.4.2" class="anchored" data-anchor-id="see-power-analysis-discussion-and-workflow"><span class="header-section-number">7.4.2</span> See <a href="power_analysis_framework_2.html">Power analysis discussion and workflow</a></h3>
<p>This is a proposal and tools for a ‘path to do’ power testing (by Jamie Elsey; David Reinstein will weigh in too). I think this first focuses on a frequentist approach, but it’s likely to also introduce a Bayesian approach.</p>
</section>
</section>
<section id="value-of-information-and-optimal-trial-design-estimation-proposal" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="value-of-information-and-optimal-trial-design-estimation-proposal"><span class="header-section-number">7.5</span> Value of information and optimal trial design: estimation proposal</h2>
<section id="nascent-discussion-value-of-information-and-optimal-design-and-inference" class="level3" data-number="7.5.1">
<h3 data-number="7.5.1" class="anchored" data-anchor-id="nascent-discussion-value-of-information-and-optimal-design-and-inference"><span class="header-section-number">7.5.1</span> Nascent discussion: Value of Information and Optimal Design and inference</h3>
<p>For a decision-maker, knowing one condition is (e.g.) 80% likely to perform better than another may be very valuable. Still, the benefit of this depends on:</p>
<ol type="1">
<li><p>How the ‘better’ metric (here, mean of likert measures) translates into proximate/ultimate outcomes (e.g., signing up for EA coaching/changing jobs for greater impact, respectively),</p></li>
<li><p>‘How much better is better’; e.g., what is the expected gain in the ultimate outcome, incorporating the costs of being ‘wrong in either direction’, and</p></li>
<li><p>How much is the ultimate outcome valued (e.g., the value of a positive career change)</p></li>
</ol>
<p>Ultimately, we want to choose our design and analysis strategy to maximize the “Value of Information” (VOI), minus the cost of acquiring this information. This VOI is essentially the difference between (incorporating some Greek letters to make it look fancy):</p>
<ol type="1">
<li><p><span class="math inline">\(V_1(\Sigma) := E[V(D(\Theta(\Sigma))]\)</span> The expected value of the world according to 80k’s criteria (and possibly those of other stakeholders). given the decisions <span class="math inline">\(D\)</span> that 80k and others can and will make in light of the information <span class="math inline">\(\Theta\)</span> gained from our trials that use design <span class="math inline">\(\Sigma\)</span>.</p></li>
<li><p><span class="math inline">\(V_0 := E[V(D(\Theta_0))]\)</span> The ‘value of the world…’ without any further information, i.e., with information set <span class="math inline">\(\Theta_0\)</span>.</p></li>
</ol>
<p><span class="math display">\[V(\Sigma) = V_1 - V_0\]</span> This term is also an expectation, but using expectations operators everywhere gets boring; we may bring these (integrals) back again where we need to do explicit calculations.</p>
<p>Thus we want to choose our design <span class="math inline">\(\Sigma\)</span> to maximize the net VOI <span class="math display">\[\Pi(\Sigma) :=   V_1(\Sigma) -  V_0 - C(\Sigma)\]</span>.</p>
<p>Of course we cannot affect <span class="math inline">\(V_0\)</span>, so we only need to worry about finding the design <span class="math inline">\(\Sigma\)</span> that achieves the highest value of:</p>
<p><span class="math display">\[V_1(\Sigma) - C(\Sigma) = E[V(D(\Theta(\Sigma))] - C(\Sigma) \]</span>.</p>
<p>So far, this is all just defining terms, and potentially obvious. We need to start operationalizing this. We need to come up with explicit measures of:</p>
<ol type="1">
<li><p>The specific design choices we are considering, i.e., some subset of <span class="math inline">\(\Sigma\)</span>. E.g., ‘how many conditions, which conditions, and how many individuals assigned to each condition’.</p></li>
<li><p>The information we can gain (or make inferences about) from the trials, e.g.,</p></li>
</ol>
<ul>
<li><span class="math inline">\(s_j \in [0,10]\)</span> the survey mean of our ‘interest in 80k questions’ among Prolific participants, for each of conditions <span class="math inline">\(j \in t_0, t_1, ..., t_k\)</span> and,</li>
<li><span class="math inline">\(c_j \in [0,1]\)</span> the ‘propensity to click on the 80k web link’ …</li>
</ul>
<p>Put these observable measures into some vector <span class="math inline">\(I_o\)</span>.</p>
<ol start="3" type="1">
<li>The joint (prior) distribution over the information we can observe and the real-world outcomes we are interested in, something like <span class="math inline">\(F(I_o, \Sigma)\)</span>. More simply, some quantification of ‘how can we make inferences about the real world outcomes given what we will observe in the study’.</li>
</ol>
<p>E.g., “we expect the real world conversion rate for a condition (where ‘conversion’ means”a Youtube viewer clicks on the ad and signs up for 80k coaching”) to be distributed with a Beta distribution centered at the mean of a weighted function of the true ‘Prolific clicks rate’ in that condition and the true average ‘interest in 80k score’, multiplied by some scaling factor.</p>
<ol start="4" type="1">
<li><p>The (relative) value of the world under each specific outcome. E.g., the dollar value 80k puts on some real-world conversion rate <span class="math inline">\(\Sigma\)</span> (which should also take into account how long the ads informed by this trial are going to run for and other factors)</p></li>
<li><p>The cost of our possible design decisions. E.g., the cost per additional participant.</p></li>
</ol>
<p><em>Next</em>: If we can fill in some of this, we may be able to make considered but heroic assumptions over the rest, and generate a VOI measure as a function of our design choices. This would probably benefit from multiple quasi-independent takes and some benchmarks against ‘outside views’. We probably want to look to existing models and approaches for guidance. And we may want to substitute reasonable proxy measures for things of ultimate interest.</p>
<p>To the extent we go down this rabbit hole, most of the gains from this will not be specific to this particular trial but will come in helping us developing an approach to later work for 80k and others.</p>
</section>
<section id="building-a-tangible-approach-to-voi" class="level3" data-number="7.5.2">
<h3 data-number="7.5.2" class="anchored" data-anchor-id="building-a-tangible-approach-to-voi"><span class="header-section-number">7.5.2</span> Building a tangible approach to VOI</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Power vs VOI
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>N = 680 per cell is enough to have 95% power to detect a Cohen’s d of 0.20 … multiple comparisons etc</p>
</blockquote>
<p>DR: I think the multiple comparisons issue is are important. But I think the power calculation approach kind of assumes we need p=0.01 or 0.05 or some such otherwise ‘we can’t reject the null … which is vulnerable to being rounded up to ’we can’t make any inference’.</p>
<p>Which I think is the wrong way to consider it.</p>
<p>If we think it’s even 55% likely that message A is better than message B, we should choose message A. We have learned something. But of course it’s better if we can use a procedure that has a lower rates of false positive. Why? Because if we do what I just said, we are choosing the wrong message 45% of the time, so our net gain is lower. … maybe only a net gain of something like ‘choosing the better message an additional 10% of the time’.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Extending this ‘benefit’ to optimizing net-VOI
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>What is the benefit of (e.g.) ‘getting it right an additional 10% of the time?’</p>
<p>This depends on ‘how much better is the better message’? But of course, the greater the extent it is better, the more likely we will (correctly) deem it to be better, even with a small sample.</p>
<p>So, to get at the VOI as a function of sample size we will have to start with a prior distribution over “the magnitude of superiority of one message over another.” Then we draw from this, draw the number of observations simulating our design, and simulate the distribution value achieved as a function of sample size. I think we can actually do this!</p>
<p>What we really want to know is ‘up to what sample size do the benefits of collecting more data (in terms of better decisions) exceed the cost’?</p>
<p>Of course I don’t have a complete answer for how to do this, but I think we are working towards it. (I should read a bit more of the value of information work perhaps, to check if I’m missing some key points).</p>
</div>
</div>
</div>
<p><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>A helpful way to reframe the discussion … instead of ‘how many observations do we need for this to be useful at all’ I think we should be thinking/considering “even small amounts of data permit useful learning, but how much data should we collect until it is no longer worth the cost … to maximize our net gain?” <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
</section>
<section id="a-specific-proposal-for-comparing-the-voi-of-designs" class="level3" data-number="7.5.3">
<h3 data-number="7.5.3" class="anchored" data-anchor-id="a-specific-proposal-for-comparing-the-voi-of-designs"><span class="header-section-number">7.5.3</span> A specific proposal for comparing the VOI of designs</h3>
<p>Reinstein “I have an idea (probably reinventing a wheel I’m not familiar with) for an approach that might be somewhat more explainable and satisfying, for comparing the value of different designs.”…</p>
<p>Essentially</p>
<ol type="1">
<li><p>We set (and carefully consider) a reasonable prior distribution over the ‘message performance in the real world’ (e.g., ‘does an individual sign up for 80k coaching’)… across a range/random draw of possible messages (say, <span class="math inline">\(M\)</span> total messages, indexed by <span class="math inline">\(m\)</span>)/</p>
<p>… E.g., individual probability of signup has a <span class="math inline">\(\beta\)</span> distribution with a mean <span class="math inline">\(u_m\)</span> for message <span class="math inline">\(m\)</span> . These means <span class="math inline">\(u_m\)</span> are all drawn from some multivariate normal distribution.</p></li>
</ol>
<!-- -->
<ol start="2" type="1">
<li><p>We make heroic assumptions over the connection between the observed metric (e.g., Likert score on Prolific) and the true outcome. This is probably the hardest part.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>… Perhaps a joint distribution,</p>
<p>…or perhaps something simpler like a proportional relationship with an error term (if it’s Likert resultis 10% better it will perform 10% better in the real world +/- some independent error term )</p></li>
</ol>
<!-- -->
<ol start="3" type="1">
<li><p>We simulate the distribution of value for each design we are considering <span class="math inline">\(k \in K\)</span>. For each design <span class="math inline">\(k\)</span>, for each simulation <span class="math inline">\(t\)</span>, we…</p>
<ol type="A">
<li><p>Simulate ‘what we report to the client’</p>
<ol type="i">
<li><p>Draw the parameters of the ‘true value’ of performance (of each message) from the prior, call it <span class="math inline">\(I_t\)</span> for sim <span class="math inline">\(t\)</span> , perhaps a vector of length <span class="math inline">\(M\)</span>. Given these parameters…</p></li>
<li><p>Consider a ‘Sample population’ <span class="math inline">\(N(k)\)</span> equal to the size of specified in design <span class="math inline">\(k\)</span>. Simulate assigning each of <span class="math inline">\(N(k)\)</span> individuals (indexed by <span class="math inline">\(i\)</span>) to a ‘message treatment <span class="math inline">\(m=m_i\)</span>’, with this assignment followingto design <span class="math inline">\(k\)</span>.</p></li>
<li><p>Draw ‘real outcomes for each sample individual <span class="math inline">\(i\)</span>’, if they were to be assigned to message <span class="math inline">\(m_i\)</span> in the real world, i.e., <span class="math inline">\(y_i(m_i)\)</span>,[^exp_design_quant-5]</p></li>
<li><p>Draw the ‘survey metric’ <span class="math inline">\(s_{im} = y_{im}+error\)</span> (mean Likert scores etc.) for each individual, were they to be assigned to message treatment <span class="math inline">\(m_i\)</span>. (Let the latter vector or all individuals in the simulated sample t be <span class="math inline">\(S_t(I_t))\)</span></p></li>
<li><p>Estimate <span class="math inline">\(\beta(S_t)\)</span>, the ‘metric we would report to client’ as a function of the above vector <span class="math inline">\(S_t(I_t))\)</span>. This could be something simple, like a rank-ordering of the mean values of the Likert measure for each treatment.</p></li>
</ol></li>
<li><p>Calculate the ‘client’s message choice’ given this information. For simplicity (for now), assume the client optimizes in some way (e.g., assigning all real-world people to the one treatment that performed best by our reported metric <span class="math inline">\(\beta(S_t)\)</span>), Call this message <span class="math inline">\(m^{*}_t\)</span>.</p></li>
<li><p>Estimate the value achieved by this choice:</p>
<ol type="i">
<li><p>Let <span class="math inline">\(W\)</span> be the number of people affected (e.g., the number they want to serve the ads to) Draw <span class="math inline">\(W\)</span> individuals from the simulated population, still using parameters <span class="math inline">\(I_t\)</span> for these draws</p></li>
<li><p>Imagine each of these are assigned message <span class="math inline">\(m^{*}_t\)</span> according to the above ‘client’s choice procedure given our reporting.’ Draw ‘simulated real outcomes’ for each of these individuals for this message. I.e., <span class="math inline">\(y_{i}(m^{*}_t)\)</span>.</p></li>
</ol></li>
<li><p>Report the total value achieved (most simply <span class="math inline">\(W \times y_{i}(m^{*}_t)\)</span>, call this value <span class="math inline">\(V_t(k)\)</span>: the “value achieved in simulation <span class="math inline">\(t\)</span> under design <span class="math inline">\(k\)</span>”</p></li>
</ol></li>
<li><p>As noted, we do this simulation for each design choice <span class="math inline">\(k\)</span>, and report the distribution of <span class="math inline">\(V_t(k)\)</span>. We can then do this simulation for each of a range of relevant design choices <span class="math inline">\(k\)</span>, including sample sizes, how many messages, number assigned to each message, etc, to compare performance. We can also test the sensitivity to different priors, different metrics reported to client/client decision rules, etc.</p></li>
</ol>


<!-- -->

</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Note: this will very much overlap the discussion of power analysis for <em>surveys</em>. Perhaps we put the simpler introduction there, and the more involved details here?<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>We won’t have time to fully sort this out for the current trial, but I’m pretty convinced it is worth working towards.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>I’m saying this in the context of real-world decision problems, not necessarily considering scientific studies or studies trying to establish general truths and convince skeptical audiences of surprising results.)<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Jamie Elsey had some ideas for this<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/qualitative-design-issues_plus.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Further practical design/implementation issues (surveys/experiments)</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/power_analysis_framework_2.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Power analysis discussion and workflow (Elsey)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Design: quantitative issues {#expt-quant}</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some quantitative issues</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>'Treatment' assignment (blocking, randomization, etc)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Adaptive, sequential and dynamic designs</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Planning, diagnosing and adjusting a design</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Power analyses (and other 'diagnosands')</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-secondary}</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>Note that much 'experiment and trial' relevant content is covered in the <span class="co">[</span><span class="ot">surveys</span><span class="co">](#surveys)</span> section. We will put in placeholders and cross-link.</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## 'Treatment' assignment (blocking, randomization, etc)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">### Adaptive, sequential and dynamic designs</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Reinstein notes and links here</span><span class="co">](https://daaronr.github.io/metrics_discussion/quant-design-power.html#quant_design_power)</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Elsey: http://www.sequentialtesting.com/</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="fu">## Planning, diagnosing and adjusting a design</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">### Specifying models, hypotheses, and statistical testing and inference approaches</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>(Just a brief here, this will be covered in more detail in the sections on statistical inference, testing, and analysis</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## Gains from small sample sizes in a Bayesian context</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Jamie's notes here</span><span class="co">](https://docs.google.com/document/d/1eTgYMYPuARg8mtFcEg9dZUobObl0YlpZhPZJh34M8UA/edit)</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="fu">## Power analyses (and other 'diagnosands')</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="ot">[^exp_design_quant-1]</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="ot">[^exp_design_quant-1]: </span>Note: this will very much overlap the discussion of power analysis for *surveys*. Perhaps we put the simpler introduction there, and the more involved details here?</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="fu">### Key resources and explainers</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>('Curate link' tools we found useful)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Reinstein notes and code</span><span class="co">](https://daaronr.github.io/metrics_discussion/power.html)</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="fu">### See [Power analysis discussion and workflow](#power-workflow)</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>This is a proposal and tools for a 'path to do' power testing (by Jamie Elsey; David Reinstein will weigh in too). I think this first focuses on a frequentist approach, but it's likely to also introduce a Bayesian approach.</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="fu">## Value of information and optimal trial design: estimation proposal</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="fu">### Nascent discussion: Value of Information and Optimal Design and inference</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>For a decision-maker, knowing one condition is (e.g.) 80% likely to perform better than another may be very valuable. Still, the benefit of this depends on:</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>How the 'better' metric (here, mean of likert measures) translates into proximate/ultimate outcomes (e.g., signing up for EA coaching/changing jobs for greater impact, respectively),</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>'How much better is better'; e.g., what is the expected gain in the ultimate outcome, incorporating the costs of being 'wrong in either direction', and</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>How much is the ultimate outcome valued (e.g., the value of a positive career change)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>Ultimately, we want to choose our design and analysis strategy to maximize the "Value of Information" (VOI), minus the cost of acquiring this information. This VOI is essentially the difference between (incorporating some Greek letters to make it look fancy):</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>$V_1(\Sigma) := E<span class="co">[</span><span class="ot">V(D(\Theta(\Sigma))</span><span class="co">]</span>$ The expected value of the world according to 80k's criteria (and possibly those of other stakeholders). given the decisions $D$ that 80k and others can and will make in light of the information $\Theta$ gained from our trials that use design $\Sigma$.</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>$V_0 := E<span class="co">[</span><span class="ot">V(D(\Theta_0))</span><span class="co">]</span>$ The 'value of the world...' without any further information, i.e., with information set $\Theta_0$.</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>$$V(\Sigma) = V_1 - V_0$$ This term is also an expectation, but using expectations operators everywhere gets boring; we may bring these (integrals) back again where we need to do explicit calculations.</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>Thus we want to choose our design $\Sigma$ to maximize the net VOI $$\Pi(\Sigma) :=   V_1(\Sigma) -  V_0 - C(\Sigma)$$.</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>Of course we cannot affect $V_0$, so we only need to worry about finding the design $\Sigma$ that achieves the highest value of:</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>$$V_1(\Sigma) - C(\Sigma) = E<span class="co">[</span><span class="ot">V(D(\Theta(\Sigma))</span><span class="co">]</span> - C(\Sigma) $$.</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>So far, this is all just defining terms, and potentially obvious. We need to start operationalizing this. We need to come up with explicit measures of:</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>The specific design choices we are considering, i.e., some subset of $\Sigma$. E.g., 'how many conditions, which conditions, and how many individuals assigned to each condition'.</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>The information we can gain (or make inferences about) from the trials, e.g.,</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$s_j \in <span class="co">[</span><span class="ot">0,10</span><span class="co">]</span>$ the survey mean of our 'interest in 80k questions' among Prolific participants, for each of conditions $j \in t_0, t_1, ..., t_k$ and,</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$c_j \in <span class="co">[</span><span class="ot">0,1</span><span class="co">]</span>$ the 'propensity to click on the 80k web link' ...</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>Put these observable measures into some vector $I_o$.</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>The joint (prior) distribution over the information we can observe and the real-world outcomes we are interested in, something like $F(I_o, \Sigma)$. More simply, some quantification of 'how can we make inferences about the real world outcomes given what we will observe in the study'.</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>E.g., "we expect the real world conversion rate for a condition (where 'conversion' means "a Youtube viewer clicks on the ad and signs up for 80k coaching") to be distributed with a Beta distribution centered at the mean of a weighted function of the true 'Prolific clicks rate' in that condition and the true average 'interest in 80k score', multiplied by some scaling factor.</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>The (relative) value of the world under each specific outcome. E.g., the dollar value 80k puts on some real-world conversion rate $\Sigma$ (which should also take into account how long the ads informed by this trial are going to run for and other factors)</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>The cost of our possible design decisions. E.g., the cost per additional participant.</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>*Next*: If we can fill in some of this, we may be able to make considered but heroic assumptions over the rest, and generate a VOI measure as a function of our design choices. This would probably benefit from multiple quasi-independent takes and some benchmarks against 'outside views'. We probably want to look to existing models and approaches for guidance. And we may want to substitute reasonable proxy measures for things of ultimate interest.</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>To the extent we go down this rabbit hole, most of the gains from this will not be specific to this particular trial but will come in helping us developing an approach to later work for 80k and others.</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="fu">### Building a tangible approach to VOI</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a><span class="fu">## Power vs VOI</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; N = 680 per cell is enough to have 95% power to detect a Cohen's d of 0.20 ... multiple comparisons etc</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>DR: I think the multiple comparisons issue is are important. But I think the power calculation approach kind of assumes we need p=0.01 or 0.05 or some such otherwise 'we can't reject the null ... which is vulnerable to being rounded up to 'we can't make any inference'.</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>Which I think is the wrong way to consider it.</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>If we think it's even 55% likely that message A is better than message B, we should choose message A. We have learned something. But of course it's better if we can use a procedure that has a lower rates of false positive. Why? Because if we do what I just said, we are choosing the wrong message 45% of the time, so our net gain is lower. ... maybe only a net gain of something like 'choosing the better message an additional 10% of the time'.</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a><span class="fu">## Extending this 'benefit' to optimizing net-VOI</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>What is the benefit of (e.g.) 'getting it right an additional 10% of the time?'</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>This depends on 'how much better is the better message'? But of course, the greater the extent it is better, the more likely we will (correctly) deem it to be better, even with a small sample.</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>So, to get at the VOI as a function of sample size we will have to start with a prior distribution over "the magnitude of superiority of one message over another." Then we draw from this, draw the number of observations simulating our design, and simulate the distribution value achieved as a function of sample size. I think we can actually do this!</span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>What we really want to know is 'up to what sample size do the benefits of collecting more data (in terms of better decisions) exceed the cost'?</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>Of course I don't have a complete answer for how to do this, but I think we are working towards it. (I should read a bit more of the value of information work perhaps, to check if I'm missing some key points).</span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a><span class="ot">[^exp_design_quant-2]</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a><span class="ot">[^exp_design_quant-2]: </span>We won't have time to fully sort this out for the current trial, but I'm pretty convinced it is worth working towards.</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>A helpful way to reframe the discussion ... instead of 'how many observations do we need for this to be useful at all' I think we should be thinking/considering "even small amounts of data permit useful learning, but how much data should we collect until it is no longer worth the cost ... to maximize our net gain?" <span class="ot">[^exp_design_quant-3]</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a><span class="ot">[^exp_design_quant-3]: </span>I'm saying this in the context of real-world decision problems, not necessarily considering scientific studies or studies trying to establish general truths and convince skeptical audiences of surprising results.)</span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="fu">### A specific proposal for comparing the VOI of designs</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>Reinstein "I have an idea (probably reinventing a wheel I'm not familiar with) for an approach that might be somewhat more explainable and satisfying, for comparing the value of different designs."...</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>Essentially</span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>We set (and carefully consider) a reasonable prior distribution over the 'message performance in the real world' (e.g., 'does an individual sign up for 80k coaching')... across a range/random draw of possible messages (say, $M$ total messages, indexed by $m$)/</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>    ... E.g., individual probability of signup has a $\beta$ distribution with a mean $u_m$ for message $m$ . These means $u_m$ are all drawn from some multivariate normal distribution.</span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!-- --&gt;</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>We make heroic assumptions over the connection between the observed metric (e.g., Likert score on Prolific) and the true outcome. This is probably the hardest part.<span class="ot">[^exp_design_quant-4]</span></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a>    ... Perhaps a joint distribution,</span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a>    ...or perhaps something simpler like a proportional relationship with an error term (if it's Likert resultis 10% better it will perform 10% better in the real world +/- some independent error term )</span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a><span class="ot">[^exp_design_quant-4]: </span>Jamie Elsey had some ideas for this</span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!-- --&gt;</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>We simulate the distribution of value for each design we are considering $k \in K$. For each design $k$, for each simulation $t$, we...</span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>    A.  Simulate 'what we report to the client'</span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="in">        i.  Draw the parameters of the 'true value' of performance (of each message) from the prior, call it $I_t$ for sim $t$ , perhaps a vector of length $M$. Given these parameters...</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="in">        ii. Consider a 'Sample population' $N(k)$ equal to the size of specified in design $k$. Simulate assigning each of $N(k)$ individuals (indexed by $i$) to a 'message treatment $m=m_i$', with this assignment followingto design $k$.</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a><span class="in">        iii. Draw 'real outcomes for each sample individual $i$', if they were to be assigned to message $m_i$ in the real world, i.e., $y_i(m_i)$,\[\^exp_design_quant-5\]</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a><span class="in">        iv. Draw the 'survey metric' $s_{im} = y_{im}+error$ (mean Likert scores etc.) for each individual, were they to be assigned to message treatment $m_i$. (Let the latter vector or all individuals in the simulated sample t be $S_t(I_t))$</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a><span class="in">        v.  Estimate $\beta(S_t)$, the 'metric we would report to client' as a function of the above vector $S_t(I_t))$. This could be something simple, like a rank-ordering of the mean values of the Likert measure for each treatment.</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a>    B.  Calculate the 'client's message choice' given this information. For simplicity (for now), assume the client optimizes in some way (e.g., assigning all real-world people to the one treatment that performed best by our reported metric $\beta(S_t)$), Call this message $m^{*}_t$.</span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>    C.  Estimate the value achieved by this choice:</span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="in">        i.  Let $W$ be the number of people affected (e.g., the number they want to serve the ads to) Draw $W$ individuals from the simulated population, still using parameters $I_t$ for these draws</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a><span class="in">        ii. Imagine each of these are assigned message $m^{*}_t$ according to the above 'client's choice procedure given our reporting.' Draw 'simulated real outcomes' for each of these individuals for this message. I.e., $y_{i}(m^{*}_t)$.</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a>    D.  Report the total value achieved (most simply $W \times y_{i}(m^{*}_t)$, call this value $V_t(k)$: the "value achieved in simulation $t$ under design $k$"</span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>As noted, we do this simulation for each design choice $k$, and report the distribution of $V_t(k)$. We can then do this simulation for each of a range of relevant design choices $k$, including sample sizes, how many messages, number assigned to each message, etc, to compare performance. We can also test the sensitivity to different priors, different metrics reported to client/client decision rules, etc.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>